---
tags:
  - proposal
  - RFC
---

# [RFC] R4B Subscription Framework

## Abstract
Currently we use R4 Subscriptions see [here](../Data_Model/R4/Subscription). 
The goal of this RFC is to migrate to R4B Subscription framework, depricating R4 Subscriptions and to allow a higher throughput for Subscriptions.

## Background
R4B introduces a new SubscriptionTopic resource that allows for more flexibility in defining the topics that can be subscribed to. 
This resource allows for more complex filtering and routing of messages.

### Current Architecture

```mermaid
graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;
```



## Problem

### Issues with current implementation


## Proposal

## Migration Plan
* Setup db-migrate to query for active Subscription resources and migrate criteria into a SubscriptionTopic resource.
* Going forward R4 Subscriptions will be deprecated and all new Subscriptions will be created using SubscriptionTopic.